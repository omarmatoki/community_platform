# ๐ ุณุฌู ุงูุชุบููุฑุงุช - ูุธุงู ุฑูุน ุงูุตูุฑ

## ุงูุชุงุฑูุฎ: 2025-12-02

---

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ูุธุงู ุฑูุน ุงูุตูุฑ ุงููุงูู
- ุฅุถุงูุฉ ุฏุนู ุฑูุน ุงูุตูุฑ ููููุงุช ูุนููุฉ
- ุชุฎุฒูู ุงูุตูุฑ ูู ูุฌูุฏ `uploads/`
- ุฎุฏูุฉ ุงูุตูุฑ ููููุงุช ุซุงุจุชุฉ (Static Files)

### 2. Multer Middleware
- ุงูุชุญูู ูู ููุน ุงูููู (ุตูุฑ ููุท)
- ุงูุชุญูู ูู ุญุฌู ุงูููู (ุญุฏ ุฃูุตู 5MB)
- ุฃุณูุงุก ูููุงุช ูุฑูุฏุฉ ุชููุงุฆูุงู
- ุญุฐู ุชููุงุฆู ููุตูุฑ ุนูุฏ ูุดู ุงูุนูููุฉ

### 3. ุฏุนู ุฃูุนุงุจ Puzzle
- ุฑูุน ุตูุฑุฉ ูุทููุจ ูุฃูุนุงุจ ุงูุจุงุฒู
- ุญูุธ ูุณุงุฑ ุงูุตูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุนุฑุถ ุงูุตูุฑุฉ ุนุจุฑ URL

---

## ๐ง ุงููููุงุช ุงููุนุฏูุฉ

### ูููุงุช ุฌุฏูุฏุฉ:
1. โ `middlewares/upload.js` - Multer middleware
2. โ `uploads/` - ูุฌูุฏ ุงูุตูุฑ ุงููุฑููุนุฉ
3. โ `uploads/games/puzzles/` - ุตูุฑ ุงูุจุงุฒู
4. โ `uploads/games/crosswords/` - ุตูุฑ ุงููููุงุช ุงููุชูุงุทุนุฉ
5. โ `IMAGE_UPLOAD_GUIDE.md` - ุฏููู ุฑูุน ุงูุตูุฑ
6. โ `PUZZLE_GAME_EXAMPLE.md` - ุฃูุซูุฉ ุนูููุฉ
7. โ `uploads/README.md` - ุชูุซูู ุงููุฌูุฏ

### ูููุงุช ูุญุฏุซุฉ:
1. โ `server.js`
   - ุฅุถุงูุฉ `app.use('/uploads', express.static('uploads'))`

2. โ `controllers/gameController.js`
   - ุฏุนู ุฑูุน ุงูุตูุฑ
   - ุชุญููู `content` ูู string ุฅูู JSON
   - ุฅุถุงูุฉ `imageUrl` ููุจุงุฒู
   - ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุญุฐู ุงูุตูุฑ

3. โ `routes/gameRoutes.js`
   - ุฅุถุงูุฉ `uploadGameImage` middleware
   - ุฅุถุงูุฉ `handleMulterError` middleware

4. โ `postman_collection_updated.json`
   - ุชุญุฏูุซ request "ุฅูุดุงุก ูุนุจุฉ ุจุงุฒู"
   - ุชุบููุฑ ูู `raw JSON` ุฅูู `form-data`
   - ุฅุถุงูุฉ ุญูู `image` ูู ููุน File

5. โ `.gitignore`
   - ุฅุถุงูุฉ `uploads/` ูุชุฌูุจ ุฑูุน ุงูุตูุฑ ุฅูู Git

---

## ๐ฆ ุงูููุชุจุงุช ุงููุซุจุชุฉ

```bash
npm install multer
```

**Multer:** ููุชุจุฉ Node.js ููุชุนุงูู ูุน ุฑูุน ุงููููุงุช (multipart/form-data)

---

## ๐ ุงูุชุบููุฑุงุช ูู API

### ูุจู ุงูุชุญุฏูุซ:
```http
POST /api/games
Content-Type: application/json
Authorization: Bearer [token]

{
  "type": "puzzle",
  "title": "ุจุงุฒู",
  "content": {
    "imageUrl": "https://example.com/image.jpg",
    "pieces": 16,
    "difficulty": "medium"
  }
}
```

### ุจุนุฏ ุงูุชุญุฏูุซ:
```http
POST /api/games
Content-Type: multipart/form-data
Authorization: Bearer [token]

type: puzzle
title: ุจุงุฒู
content: {"pieces": 16, "difficulty": "medium"}
image: [File]
```

---

## ๐ฏ ุงูููุงุฆุฏ

### 1. ุฃูุงู ุฃูุถู
- โ ุงูุชุญูู ูู ููุน ุงูููู
- โ ุงูุชุญูู ูู ุญุฌู ุงูููู
- โ ุชุฎุฒูู ูุญูู ุขูู

### 2. ุฃุฏุงุก ุฃูุถู
- โ ุฎุฏูุฉ ุงูุตูุฑ ูู ุงูุณูุฑูุฑ ูุจุงุดุฑุฉ
- โ ูุง ุญุงุฌุฉ ูุฎุฏูุงุช ุฎุงุฑุฌูุฉ
- โ ุณุฑุนุฉ ุชุญููู ุฃุนูู

### 3. ุณูููุฉ ุงูุฅุฏุงุฑุฉ
- โ ุฌููุน ุงูุตูุฑ ูู ููุงู ูุงุญุฏ
- โ ุฃุณูุงุก ูููุงุช ููุธูุฉ
- โ ุณูููุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู

### 4. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู
- โ ูุง ุญุงุฌุฉ ูุฑูุน ุงูุตูุฑ ูุฎุฏูุฉ ุฎุงุฑุฌูุฉ ุฃููุงู
- โ ุฑูุน ูุจุงุดุฑ ูู Postman ุฃู Frontend
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

---

## ๐ ุงูุชูุงูู

### ุงููููุงุช ุงููุชูุงุทุนุฉ (Crossword):
- โ ูุง ุชุฒุงู ุชุนูู ููุง ูู
- โ ูุง ุชุญุชุงุฌ ุตูุฑุฉ
- โ JSON ุนุงุฏู

### ุงูุจุงุฒู (Puzzle):
- โ๏ธ **ุชุบููุฑ ุฅูุฒุงูู:** ูุฌุจ ุฑูุน ุตูุฑุฉ
- โ `imageUrl` ููุถุงู ุชููุงุฆูุงู
- โ ุฏุนู ูุงูู ููุตูุฑ

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุชู ุงุฎุชุจุงุฑ:
- โ ุฑูุน ุตูุฑุฉ ุตุงูุญุฉ (JPEG, PNG, GIF, WEBP)
- โ ุฑูุถ ูููุงุช ุบูุฑ ุตูุฑ
- โ ุฑูุถ ูููุงุช ุฃูุจุฑ ูู 5MB
- โ ุฅูุดุงุก ูุนุจุฉ ุจุงุฒู ุจูุฌุงุญ
- โ ุญูุธ ูุณุงุฑ ุงูุตูุฑุฉ
- โ ุนุฑุถ ุงูุตูุฑุฉ ุนุจุฑ URL
- โ ุญุฐู ุงูุตูุฑุฉ ุนูุฏ ูุดู ุงูุนูููุฉ

### ููุฏ ุงูุงุฎุชุจุงุฑ:
- โณ ุชุญุฏูุซ ูุนุจุฉ ูุน ุตูุฑุฉ ุฌุฏูุฏุฉ
- โณ ุญุฐู ูุนุจุฉ ูุน ุญุฐู ุงูุตูุฑุฉ

---

## ๐ ุงููุซุงุฆู

ุชู ุฅูุดุงุก ุงููููุงุช ุงูุชุงููุฉ ูููุณุงุนุฏุฉ:

1. **IMAGE_UPLOAD_GUIDE.md**
   - ุฏููู ุดุงูู ูุฑูุน ุงูุตูุฑ
   - ุดุฑุญ ุงูุชุบููุฑุงุช
   - ููููุฉ ุงุณุชุฎุฏุงู Postman
   - ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

2. **PUZZLE_GAME_EXAMPLE.md**
   - ุฃูุซูุฉ ุนูููุฉ ุฎุทูุฉ ุจุฎุทูุฉ
   - ุฃูุซูุฉ ูุฃูุนุงุจ ูุฎุชููุฉ
   - ุญู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ
   - ูุตุงุฆุญ ููุฅุจุฏุงุน

3. **uploads/README.md**
   - ุชูุซูู ูุฌูุฏ ุงูุตูุฑ
   - ูููู ุงููุฌูุฏุงุช
   - ุงูููุงุญุธุงุช ุงููููุฉ

---

## ๐ฎ ุงูุชุทููุฑุงุช ุงููุณุชูุจููุฉ

### ููุชุฑุญุงุช:
- [ ] ุถุบุท ุงูุตูุฑ ุชููุงุฆูุงู
- [ ] ุชุญููู ุงูุตูุฑ ูุตูุบุฉ ููุญุฏุฉ (WebP)
- [ ] ุตูุฑ ูุตุบุฑุฉ (Thumbnails)
- [ ] ุญุฐู ุงูุตูุฑ ุนูุฏ ุญุฐู ุงููุนุจุฉ
- [ ] ุชุญุฏูุซ ุงูุตูุฑุฉ ุนูุฏ ุชุญุฏูุซ ุงููุนุจุฉ
- [ ] ูุนุฑุถ ุตูุฑ ููุฃูุนุงุจ
- [ ] ุฑูุน ุตูุฑ ูุชุนุฏุฏุฉ
- [ ] ูุญุฑุฑ ุตูุฑ ูุฏูุฌ

---

## ๐ฅ ูููุทูุฑูู

### ููููุฉ ุงุณุชุฎุฏุงู Multer ูู endpoints ุฃุฎุฑู:

```javascript
// ูู routes
const { uploadGameImage, handleMulterError } = require('../middlewares/upload');

router.post('/endpoint',
  protect,
  uploadGameImage,        // ุฑูุน ุงูุตูุฑุฉ
  handleMulterError,      // ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
  controllerFunction      // Controller
);

// ูู controller
const controllerFunction = async (req, res, next) => {
  if (req.file) {
    // ุงูุตูุฑุฉ ููุฌูุฏุฉ
    const imagePath = req.file.path;
    const imageUrl = `/uploads/${imagePath.replace(/\\/g, '/')}`;
    // ุงุณุชุฎุฏู imageUrl
  }
};
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุงููุณุฎ ุงูุงุญุชูุงุทู:**
   - ูุฌูุฏ `uploads/` ููุณ ูู Git
   - ูุฌุจ ุนูู backup ูููุตู ููุตูุฑ

2. **Production:**
   - ูู ุงูุฅูุชุงุฌุ ุงุณุชุฎุฏู CDN ุฃู Cloud Storage
   - Multer ููุงุณุจ ููุชุทููุฑ ูุงูุจุฏุงูุฉ

3. **ุงูุฃูุงู:**
   - ุชุญูู ุฏุงุฆูุงู ูู ููุน ุงูููู
   - ูุง ุชุซู ูู MIME type ููุท
   - ุงุณุชุฎุฏู ููุชุจุงุช ูุดู ุงููููุงุช ุงููุนููุฉ

4. **ุงูุฃุฏุงุก:**
   - ููุฑ ูู ุญุฏ ุฃูุตู ูุนุฏุฏ ุงููููุงุช
   - ุฑุงูุจ ูุณุงุญุฉ ุงููุฑุต
   - ูุธู ุงููููุงุช ุงููุฏููุฉ ุฏูุฑูุงู

---

## ๐ ุงูุฏุนู

ููุฃุณุฆูุฉ ุฃู ุงููุดุงูู:
- ุฑุงุฌุน `IMAGE_UPLOAD_GUIDE.md`
- ุฑุงุฌุน `PUZZLE_GAME_EXAMPLE.md`
- ุชุญูู ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูู ุงูููุฏ

---

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**

ุชุงุฑูุฎ ุงูุชุญุฏูุซ: 2025-12-02
ุงูุฅุตุฏุงุฑ: 1.1.0
