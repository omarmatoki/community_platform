// ููู ูุจุฏุก ุฌูุณุฉ WhatsApp
// ูู ุจุชุดุบูู ูุฐุง ุงูููู ููุฑุฉ ูุงุญุฏุฉ ููุณุญ QR Code ูุงูุงุชุตุงู ุจู WhatsApp
// ุจุนุฏ ุงูุงุชุตุงู ุงูุฃููุ ุณูุชู ุญูุธ ุงูุฌูุณุฉ ุชููุงุฆูุงู

require('dotenv').config();
const whatsappService = require('./services/whatsappService');

console.log('โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ');
console.log('๐ฑ ุจุฏุก ุฌูุณุฉ WhatsApp');
console.log('โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ');
console.log('');
console.log('โ๏ธ  ููุงุญุธุฉ ูุงูุฉ:');
console.log('   1. ุณูุธูุฑ ุฑูุฒ QR ูู ุงูุฃุณูู');
console.log('   2. ุงูุชุญ ุชุทุจูู WhatsApp ุนูู ูุงุชูู');
console.log('   3. ุงุฐูุจ ุฅูู ุงูุฅุนุฏุงุฏุงุช > ุงูุฃุฌูุฒุฉ ุงููุฑุชุจุทุฉ');
console.log('   4. ุงูุณุญ ุฑูุฒ QR ุงููุนุฑูุถ ุฃุฏูุงู');
console.log('   5. ุจุนุฏ ุงูุงุชุตุงูุ ุณูุชู ุญูุธ ุงูุฌูุณุฉ ุชููุงุฆูุงู');
console.log('');
console.log('โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ');
console.log('');

// ุจุฏุก ุงูุงุชุตุงู
whatsappService.connect().catch(error => {
  console.error('โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุงุชุตุงู:', error);
  process.exit(1);
});

// ุงูุงุณุชูุงุน ูุฅุดุงุฑุฉ ุงูุฅููุงุก
process.on('SIGINT', async () => {
  console.log('\n\n๐ ุฅููุงู ุงูุฌูุณุฉ...');
  await whatsappService.disconnect();
  process.exit(0);
});

// ุฅุจูุงุก ุงูุจุฑูุงูุฌ ููุฏ ุงูุชุดุบูู
console.log('๐ก ุงุถุบุท Ctrl+C ููุฎุฑูุฌ');
