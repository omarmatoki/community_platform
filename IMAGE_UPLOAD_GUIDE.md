# ๐ผ๏ธ ุฏููู ุฑูุน ุงูุตูุฑ ููุฃูุนุงุจ

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุญุฏูุซ ุงููุธุงู ูุฏุนู ุฑูุน ุงูุตูุฑ ููููุงุช ูุนููุฉ ุจุฏูุงู ูู ุงูุฑูุงุจุท ุงููุตูุฉุ ุฎุงุตุฉ ูุฃูุนุงุจ ุงูุจุงุฒู.

---

## ๐ ูููู ุงููุฌูุฏุงุช

```
backend/
โโโ uploads/
โ   โโโ games/
โ       โโโ puzzles/          # ุตูุฑ ุฃูุนุงุจ ุงูุจุงุฒู
โ       โโโ crosswords/       # ุตูุฑ ุงููููุงุช ุงููุชูุงุทุนุฉ (ุงุฎุชูุงุฑู)
โ       โโโ other/            # ุฃููุงุน ุฃูุนุงุจ ุฃุฎุฑู
โโโ middlewares/
โ   โโโ upload.js            # Middleware ูุฑูุน ุงููููุงุช
โโโ ...
```

---

## โ๏ธ ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### 1. ุชุซุจูุช ุงูููุชุจุงุช
```bash
npm install multer
```

### 2. ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ

#### โ ููู ุฌุฏูุฏ: `middlewares/upload.js`
- Multer middleware ูุฑูุน ุงููููุงุช
- ุงูุชุญูู ูู ููุน ุงูููู (ุตูุฑ ููุท)
- ุญุฏ ุฃูุตู ูุญุฌู ุงูููู: 5MB
- ุฃููุงุน ุงูุตูุฑ ุงููุฏุนููุฉ: JPEG, PNG, GIF, WEBP

#### โ ุชุญุฏูุซ: `server.js`
```javascript
// ุฎุฏูุฉ ุงููููุงุช ุงูุซุงุจุชุฉ
app.use('/uploads', express.static('uploads'));
```

#### โ ุชุญุฏูุซ: `controllers/gameController.js`
- ุฏุนู ุฑูุน ุงูุตูุฑ ููุจุงุฒู
- ุชุญููู `content` ูู string ุฅูู JSON
- ุญูุธ ูุณุงุฑ ุงูุตูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุญุฐู ุงูุตูุฑุฉ ุนูุฏ ุญุฏูุซ ุฎุทุฃ

#### โ ุชุญุฏูุซ: `routes/gameRoutes.js`
```javascript
const { uploadGameImage, handleMulterError } = require('../middlewares/upload');

router.post('/', protect, authorize('admin'), uploadGameImage, handleMulterError, createGame);
```

#### โ ุชุญุฏูุซ: `.gitignore`
```
uploads/
```

---

## ๐ฎ ููููุฉ ุงุณุชุฎุฏุงู Postman

### ุฅูุดุงุก ูุนุจุฉ Puzzle ูุน ุตูุฑุฉ

**Method:** POST
**URL:** `http://localhost:5000/api/games`
**Headers:**
- `Authorization: Bearer {{token}}`

**Body Type:** `form-data`

| Key | Type | Value | ููุงุญุธุงุช |
|-----|------|-------|---------|
| `type` | Text | `puzzle` | ููุน ุงููุนุจุฉ |
| `title` | Text | `ุจุงุฒู - ุงูููู ุงููุฌุชูุนูุฉ` | ุนููุงู ุงููุนุจุฉ |
| `content` | Text | `{"pieces": 16, "difficulty": "medium", "description": "ูุตู ุงููุนุจุฉ"}` | ูุญุชูู ุงููุนุจุฉ ุจุตูุบุฉ JSON |
| `educationalMessage` | Text | `ุฑุงุฆุน! ุฃุญุณูุช` | ุฑุณุงูุฉ ุชุนููููุฉ |
| `pointsReward` | Text | `20` | ุงูููุงุท |
| `image` | File | [ุงุฎุชุฑ ููู] | **ุงูุตูุฑุฉ (ูุทููุจุฉ ููุจุงุฒู)** |

---

## ๐ฎ ุฃูุซูุฉ Content ููุฃูุนุงุจ

### ูุนุจุฉ Puzzle
```json
{
  "pieces": 16,
  "difficulty": "medium",
  "description": "ูู ุจุชุฑุชูุจ ูุทุน ุงูุจุงุฒู ูุชูููู ุตูุฑุฉ ุชุนุจุฑ ุนู ุงูููู ุงููุฌุชูุนูุฉ"
}
```

**ููุงุญุธุงุช:**
- `pieces`: ุนุฏุฏ ุงููุทุน (4, 9, 16, 25, ุฅูุฎ)
- `difficulty`: `easy`, `medium`, `hard`
- `imageUrl`: **ูุชู ุฅุถุงูุชู ุชููุงุฆูุงู** ูู ุงูุตูุฑุฉ ุงููุฑููุนุฉ

### ูุนุจุฉ Crossword (ูุง ุชุญุชุงุฌ ุตูุฑุฉ)
```json
{
  "words": [
    {
      "number": 1,
      "direction": "across",
      "question": "ูุง ูู ุงููุตุทูุญ...ุ",
      "answer": "ูุดุงุฑูุฉ",
      "position": {
        "row": 0,
        "col": 0
      }
    }
  ]
}
```

---

## ๐ ููุงุนุฏ ุงูุชุญูู

### ููุจุงุฒู (Puzzle):
โ ูุฌุจ ุฑูุน ุตูุฑุฉ
โ `pieces` ูุทููุจ
โ `difficulty` ูุทููุจ

### ููุตูุฑ:
โ ุงูุฃููุงุน ุงููุฏุนููุฉ: JPEG, JPG, PNG, GIF, WEBP
โ ุงูุญุฏ ุงูุฃูุตู: 5MB
โ ูุชู ุฑูุถ ุฃู ููุน ููู ุขุฎุฑ

---

## ๐ ุงููุตูู ููุตูุฑ ุงููุฑููุนุฉ

ุจุนุฏ ุฑูุน ุงูุตูุฑุฉ ุจูุฌุงุญุ ุณูุชู ุญูุธ ูุณุงุฑูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```json
{
  "id": 1,
  "type": "puzzle",
  "title": "ุจุงุฒู - ุงูููู ุงููุฌุชูุนูุฉ",
  "content": {
    "pieces": 16,
    "difficulty": "medium",
    "description": "...",
    "imageUrl": "/uploads/games/puzzles/puzzle-1733169234567-123456789.jpg"
  }
}
```

**ุฑุงุจุท ุงูุตูุฑุฉ ุงููุงูู:**
```
http://localhost:5000/uploads/games/puzzles/puzzle-1733169234567-123456789.jpg
```

---

## ๐๏ธ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ุฑุณุงุฆู ุงูุฎุทุฃ ุงููุญุชููุฉ:

| ุงูุฎุทุฃ | ุงูุณุจุจ | ุงูุญู |
|-------|-------|------|
| `ููุน ุงูููู ุบูุฑ ูุฏุนูู!` | ุฑูุน ููู ููุณ ุตูุฑุฉ | ุงุณุชุฎุฏู JPEG, PNG, GIF, WEBP |
| `ุญุฌู ุงูููู ูุจูุฑ ุฌุฏุงู!` | ุงูุตูุฑุฉ ุฃูุจุฑ ูู 5MB | ููู ุญุฌู ุงูุตูุฑุฉ |
| `ูุฌุจ ุฑูุน ุตูุฑุฉ ููุจุงุฒู` | ูู ูุชู ุฑูุน ุตูุฑุฉ ูุจุงุฒู | ุฃุถู ุญูู `image` ูู form-data |
| `ูุญุชูู ุงููุนุจุฉ ุบูุฑ ุตุงูุญ` | JSON ุบูุฑ ุตุญูุญ ูู `content` | ุชุญูู ูู ุตูุบุฉ JSON |

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงููููุงุช ุงููุชูุงุทุนุฉ (Crossword):** ูุง ุชุญุชุงุฌ ูุตูุฑุฉุ ูููู ุฅุฑุณุงููุง ุจู JSON ุนุงุฏู
2. **ุงูุจุงุฒู (Puzzle):** **ูุฌุจ** ุฑูุน ุตูุฑุฉุ ูุฅูุง ุณููุดู ุงูุทูุจ
3. **ุงูุตูุฑ ุงููุฑููุนุฉ:** ูู ูุชู ุฑูุนูุง ุฅูู Git (ููุฌูุฏุฉ ูู `.gitignore`)
4. **ุฃุณูุงุก ุงููููุงุช:** ุชูุญูุธ ุจุฃุณูุงุก ูุฑูุฏุฉ ุชููุงุฆูุงู ูุชุฌูุจ ุงูุชูุฑุงุฑ
5. **ุญุฐู ุชููุงุฆู:** ุฅุฐุง ูุดู ุฅูุดุงุก ุงููุนุจุฉุ ูุชู ุญุฐู ุงูุตูุฑุฉ ุชููุงุฆูุงู

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุฅูุดุงุก ูุนุจุฉ ุจุงุฒู ูุน ุตูุฑุฉ
```bash
# ูู Postman:
1. ุงุฎุชุฑ POST ุนูู /api/games
2. ุฃุถู Authorization header
3. ุงุฎุชุฑ Body > form-data
4. ุงููุฃ ุงูุญููู ููุง ูู ุงูุฌุฏูู ุฃุนูุงู
5. ุงุฎุชุฑ ุตูุฑุฉ ูู ุฌูุงุฒู
6. ุฃุฑุณู ุงูุทูุจ
```

### 2. ุงูุชุญูู ูู ุงูุตูุฑุฉ
```bash
# ุงูุชุญ ุงููุชุตูุญ ูุงูุชูู ุฅูู:
http://localhost:5000/uploads/games/puzzles/[ุงุณู-ุงูููู].jpg
```

### 3. ุฌูุจ ุงููุนุจุฉ
```bash
GET http://localhost:5000/api/games/:id
```

---

## ๐ฏ ุงูุฎูุงุตุฉ

ุงููุธุงู ุงูุขู ูุฏุนู:
- โ ุฑูุน ุงูุตูุฑ ููููุงุช ูุนููุฉ
- โ ุงูุชุญูู ูู ููุน ูุญุฌู ุงูููู
- โ ุชุฎุฒูู ุขูู ูููุธู
- โ ุฎุฏูุฉ ุงูุตูุฑ ููููุงุช ุซุงุจุชุฉ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุจุดูู ุตุญูุญ
- โ Postman collection ูุญุฏุซ

**ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**
